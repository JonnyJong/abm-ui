w-btn
	position relative
	display block
	overflow hidden
	padding 4px 8px
	width max-content
	border 1px solid var(--w-btn-border)
	border-radius 4px
	background var(--w-btn-con-bg)
	transition .1s background
	--w-btn-progress-bg var(--w-btn-bg)
	&[flat]
		--w-btn-progress-bg #0000
		--w-btn-con-bg #0000
	&[ui-hover]
		--w-btn-progress-bg var(--w-btn-hover-bg)
	&[ui-active]
		--w-btn-progress-bg var(--w-btn-active-bg)
	&[disabled]
		border-color var(--w-btn-disabled-border)
		--w-btn-progress-bg var(--w-btn-disabled-bg)
	&[state='primary']
	&[state='toggle'][checked]
		border-color var(--theme)
		color var(--theme-text)
		--w-btn-con-bg var(--theme-a4)
		--w-btn-progress-bg var(--theme-ac)
		&[ui-hover]
			--w-btn-progress-bg var(--theme)
		&[ui-active]
			--w-btn-progress-bg var(--theme-aa)
		&[disabled]
			--w-btn-progress-bg var(--theme-a6)
	&[state='danger']
		border-color var(--w-btn-danger-border)
		--w-btn-progress-bg var(--w-btn-danger-bg)
		&[ui-hover]
			--w-btn-progress-bg var(--w-btn-danger-hover-bg)
		&[ui-active]
			--w-btn-progress-bg var(--w-btn-danger-active-bg)
		&[disabled]
			--w-btn-progress-bg var(--w-btn-danger-disabled-bg)
	&[flat]
		border-color #0000
	&[rounded]
		border-radius 10000vmax

.w-btn-content
	position relative
	display flex
	justify-content center
	align-items center
	min-height 24px
	width 100%
	height 100%
	transition .1s opacity
	gap 4px
	--w-progress-ring-size 16px

.w-btn-active-progress
	position absolute
	top 0
	left 0
	height 100%
	background var(--w-btn-bg)
	opacity 0
	transition .2s opacity

.w-btn-progress
	position absolute
	top 0
	left 0
	width 100%
	height 100%
	background var(--w-btn-progress-bg)
	transition .1s background, .1s width

&:host([ui-active])
	.w-btn-content
		opacity var(--w-btn-active-content-opacity)
	.w-btn-active-progress
		opacity 1

&:host([disabled])
	.w-btn-content
		opacity var(--w-btn-disabled-content-opacity)

&:host([state='primary'])
&:host([state='toggle'][checked])
	.w-btn-active-progress
		background var(--theme)
	w-progress-ring
		--theme var(--theme-text)

&:host([state='danger'])
	.w-btn-active-progress
		background var(--w-btn-danger-hover-bg)
